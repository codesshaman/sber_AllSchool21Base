RetailAnalitycs v2.0 Web

Создание web-интерфейса для проекта SQL3 на языке Java.


## Contents

1. [Chapter I](#chapter-i) 
    
    1.1. [Introduction](#introduction)
2. [Chapter II](#chapter-ii) 
    
    2.1. [Rules](#rules) 
    
    2.2. [Information](#information)
3. [Chapter III](#chapter-iii) 
    
    3.1. [Part 1. Реализация web-приложения для проекта SQL3](#part-1-реализация-web-приложения-для-проекта-sql3)  
    
    3.2. [Part 2. Авторизация](#part-2-авторизация)  
    
    3.3. [Part 3. Логирование](#part-3-логирование)  
    
    3.4. [Part 4. Дополнительно. Подготовка к развертываю](#part-4-дополнительно-подготовка-к-развертываю) 
    
    3.5. [Part 5. Дополнительно. SPA-frontend](#part-5-дополнительно-spa-frontend)


## Chapter I

## Introduction

В данном проекте Вам предстоит реализовать web-интерфейс для проекта SQL3.  Вам предстоит улучшить знания языка программирования  Java, паттерна MVC и основ разработки Web-приложений, а также ознакомиться с ORM фреймворками и использовать их в своей работе. Приложение должно поддерживать осуществление CRUD-операций, импорт/экспорт таблиц, авторизацию, осуществление разработанных на прошлом шаге операций/функций через графический интерфейс, а также логирование действий пользователя. 


## Chapter II

## Rules 

- Представление модели базы данных, а также процедур, связанных с добавлением/удалением/корректировкой данных находятся в проекте SQL3
- Для оценки ваше решение должно находится в git-репозитории
- У вас есть вопрос? Спросите своего соседа справа. В противном случае попробуйте обратиться к своему соседу слева
- Ваше справочное руководство: коллеги / Internet / Google

## Information

### ORM

**ORM (Object-Relational Mapping)** – технология программирования, которая связывает базы данных с концепциями объектно-ориентированных языков программирования, создавая «виртуальную объектную базу данных». 
    
Иначе говоря, ORM - это набор классов, добавляющих еще один уровень абстракции к таблицам, хранящимся в базе данных. Эта абстракция позволяет работать с объектами БД как с объектами используемого языка программирования т.е проектировать работу с данными в терминах классов, а не таблиц данных. 

Классы модели, поля и экземпляры сущности все отображаются на концепцию базы данных.
| Термин  | Соответствие   |
| ------- | -------- |
| Класс модели   | Таблица в БД    |
| Поле   | Столбец в таблице    |
| Экземпляр сущности   | Строка в таблице   |

В рамках ORM существует 2 подхода: *Code first* и *Model/Database first*.

В **Code first** Вы сначала пишете классы сущностей, а схемы базы данных приводятся в соответствие новому состоянию кода. Любая база данных в процессе жизни приложения изменяется: в неё добавляются новые таблицы, удаляются старые, какие-то меняются. Изменения в базе данных выполняются с помощью механизма миграций. **Миграция** — это описание изменений, которые вы хотите внести в таблицы базы данных. 

В **Model first** Вы сначала разрабатываете или меняете базу данных (выполняя SQL-запросы или формируя запросы с помощью средств ORM), а сущности генерируются на ее основе. Например, для добавления нового поля достаточно добавить новую колонку.

ORM целесообразно использовать в больших проектах, использующих БД, однако для повышения скорости выполнения запросов некоторые программисты предпочитают самостоятельно формировать нужные SQL-запросы. Причина в том, что в случае сложных запросов ORM не всегда генерирует оптимальный SQL-запрос к БД, что в случае большой выборки весьма существенно, особенно если выборка идет по нескольким таблицам.

ORM системы так или иначе присутствуют в любом большом фреймворке - Laravel, Entity Framework Core, ORM Django, SQLAlchemy


## Chapter III

Необходимо реализовать web-приложение для проекта SQL3

## Part 1. Реализация web-приложения для проекта SQL3

### Общие требования

- Программа должна быть разработана на языке  Java версии 8
- Код программы должен находиться в папке src
- При написании кода необходимо придерживаться Google Code Style
- Необходимо разработать Web-приложение
- Программа должна быть реализована с использованием любого MVC-фреймворка (например, Blade, Spring)
- Программа должна быть реализована с использованием паттерна **MVC**, а также: 
    - не должно быть кода бизнес-логики в коде представлений;
    - не должно быть кода интерфейса в контроллере и в модели;
    - контроллеры должны быть тонкими;
- Рендеринг страниц осуществлять на стороне сервера (использование технологии **Server-Side Rendering**)
- Вам необходимо полностью переиспользовать базу данных из проекта SQL3, включив её в компонент Model (при этом использовать ORM в режиме Model/Database First)
- Дизайн приложения должен быть интуитивно-понятным 

### Требования к содержанию

- Главная страница должна содержать:
    - Навигационное меню, обеспечивающее переход к основным разделам приложения: *«Данные»* и *«Предложения»*
    - Поле *«О себе»*, содержащее основную информацию о студенте, выполнившем проект

- Графическая оболочка разделов *«Данные»* и *«Предложения»* должна содержать следующие разделы:
    - Шапка, по нажатию на которую можно осуществить переход на главную страницу
    - Навигационное меню, позволяющее осуществить переход по основным разделам
    - Содержательную часть раздела
    - Навигационная панель, осуществляющая передвижение по подразделам выбранного раздела (в случае необходимости)

- Раздел *«Данные»* должен содержать подразделы, которые позволяют через GUI поддерживать следующий функционал:
    - Совершать CRUD-операции по всем таблицам
    - При любой модификации таблиц (create, update, delete) приложение должно запрашивать у пользователя подтверждение на осуществление операции
    - После любого вида модификации таблиц пользователю должна выводиться измененная таблица
    - Импорт и экспорт данных для каждой таблицы из файлов/в файлы с расширением *.csv*

- Раздел *«Предложения»* должен содержать подразделы, которые позволяют через GUI поддерживать следующий функционал:
    - Реализовать возможность вычисления всех персональных предложений и их экспорт в файл разрешения .csv
    - При осуществлении вычислений необходимо вызывать реализованные в базе данных функции
    - В случае необходимости введения параметров для выполнения процедуры или функции, графический интерфейс должен предоставлять форму для ввода данных
    - Если введенные аргументы были некорректны, то приложение должно обрабатывать подобную ситуацию (выдавать ошибку о некорректности введенных и данных и предлагать повторную попытку ввода)

- Конфигурация приложения должна осуществляться при помощи файла конфигурации, который включает в себя строку подключения к СУБД

## Part 2. Авторизация

Необходимо реализовать авторизацию пользователя. 

Приложение должно поддерживать 2 роли: *администратор* и *посетитель* и в соответствии с ролью выдавать определенные права: 

### Администратор 
- Администратор имеет полные права на редактирование и просмотр
любой информации, запуск и остановку процесса обработки.

### Посетитель
- Только просмотр информации из всех таблиц.

Если данные были некорректны, то приложение должно обрабатывать подобную ситуацию (выдавать ошибку о некорректности введенных и данных и предлагать повторную попытку ввода). 

## Part 3. Логирование

Необходимо реализовать логирование всех действий пользователя (файлы логов записывать в папку logs). Каждый день создается новый файл логов. Название файлов должно соответствовать шаблону *logs_dd-MM-yy-hh-mm-ss*

У каждой записи должен быть обозначен ее уровень важности:
- **Info**: ожидаемое событие;
- **Warning**: неожиданные события, которые позволяют продолжить работу приложения;
- **Error**: событие, которое не позволяет дальнейшую работу программы;

## Part 4. Дополнительно. Подготовка к развертываю

Подготовить приложение к запуску.
Для этого необходимо упаковать в docker-контейнеры:
- базу данных
- проксирующий сервер (использовать nginx)
- web приложения

Подготовить docker-compose для запуска всего приложения. При этом \"наружу\" должен смотреть только docker-контейнер, содержащий Nginx. 

## Part 5. Дополнительно. SPA-frontend

Реализовать SPA-frontend на любом компонентом фреймворке (Vue/React/Angular).
